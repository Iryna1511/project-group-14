import{a as v,S as h,N as g,K as L,P as E}from"./assets/vendor-cef296b0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();v.defaults.baseURL="https://portfolio-js.b.goit.study/api";async function N(){return(await v.get("/reviews")).data}async function x(e){return(await v.post("/requests",e)).data}const S=document.querySelector(".reviews-list");function P(e,t,s,l){return`
     <li class="reviews-list-items swiper-slide" data-id="${e}">
     <img class="reviews-image" src="${s}" alt="" 
            width="48"
            height="48"
            loading="lazy" />
          <div class="reviews-text-content">
            <h3 class="reviews-name-header">${t}</h3>
            <p class="reviews-main-text">${l}</p>
          </div>
        </li>
  `}function B(){const e='<p class="end-message">Not found</p>';S.insertAdjacentHTML("afterend",e)}function H(e){return e.map(({_id:t,author:s,avatar_url:l,review:o})=>P(t,s,l,o)).join("")}function I(e){const t=H(e);S.insertAdjacentHTML("beforeend",t)}const R=document.querySelector(".swiper"),i=document.querySelector(".button-next"),n=document.querySelector(".button-prev"),T=new h(R,{modules:[g,L,E],navigation:{nextEl:i,prevEl:n},direction:"horizontal",autoHeight:!1,autoWidth:!1,watchOverflow:!0,keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},breakpoints:{320:{slidesPerView:"auto",spaceBetween:22},767:{slidesPerView:2,spaceBetween:16},1280:{slidesPerView:3,spaceBetween:42},1440:{slidesPerView:4,spaceBetween:16}}});T.update();async function V(){try{const e=await N();e.length===0?B():I(e)}catch(e){console.error("Error fetching reviews:",e)}}const M=new MutationObserver(e=>{e.forEach(t=>{t.attributeName==="class"&&(i.classList.contains("swiper-button-disabled")?(i.style.opacity="0.5",i.style.cursor="not-allowed"):(i.style.opacity="1",i.style.cursor="pointer"))})});M.observe(i,{attributes:!0});const A=new MutationObserver(e=>{e.forEach(t=>{t.attributeName==="class"&&(n.classList.contains("swiper-button-disabled")?(n.style.opacity="0.5",n.style.cursor="not-allowed"):(n.style.opacity="1",n.style.cursor="pointer"))})});A.observe(n,{attributes:!0});V();document.getElementById("animation");function D(e){let t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight||t.bottom>=0&&t.top<=window.innerHeight}function q(){let e=document.querySelector(".covers.section");e.querySelectorAll(".marquee-line").forEach(function(s){D(e)?s.classList.add("marquee-line-animation"):s.classList.remove("marquee-line-animation")})}document.addEventListener("DOMContentLoaded",q);window.addEventListener("scroll",q);const a=document.querySelector(".btn-next"),c=document.querySelector(".btn-prev"),$=new h(".swiper-box",{modules:[g,L,E],navigation:{prevEl:c,nextEl:a},direction:"horizontal",autoHeight:!1,autoWidth:!1,loop:!1,watchOverflow:!0,keyboard:{enabled:!0,onlyInViewport:!0,pageUpDown:!0},breakpoints:{1440:{direction:"horizontal"}}});$.update();const C=new MutationObserver(e=>{e.forEach(t=>{t.attributeName==="class"&&(a.classList.contains("swiper-button-disabled")?(a.style.opacity="0.5",a.style.cursor="not-allowed"):(a.style.opacity="1",a.style.cursor="pointer"))})});C.observe(a,{attributes:!0});const U=new MutationObserver(e=>{e.forEach(t=>{t.attributeName==="class"&&(c.classList.contains("swiper-button-disabled")?(c.style.opacity="0.5",c.style.cursor="not-allowed"):(c.style.opacity="1",c.style.cursor="pointer"))})});U.observe(c,{attributes:!0});const w=document.querySelectorAll(".accordion-title"),_=document.querySelectorAll(".accordion-content");w.forEach(e=>e.addEventListener("click",()=>{const t=document.querySelector("#"+e.dataset.tab);t.classList.contains("active")?(t.classList.remove("active"),t.style.maxHeight=0):(_.forEach(s=>{s.classList.remove("active"),s.style.maxHeight=0}),w.forEach(s=>s.classList.remove("active")),e.classList.add("active"),t.classList.add("active"),t.style.maxHeight=t.scrollHeight+"px")}));const p=document.querySelector(".footer-form"),d=p.elements.email,m=p.elements.comment,j=document.querySelector(".modal"),y="form-state";p.addEventListener("submit",async e=>{e.preventDefault();const t={email:d.value,comment:m.value};try{x(t),j.classList.add("is-open"),d.value="",m.value="",console.log(t),localStorage.removeItem(y)}catch(s){alert("Please fill all fields correctly"),console.error("Error:",s.message)}});const u=JSON.parse(localStorage.getItem(y));d.value=u&&u.email?u.email:"";m.value=u&&u.comment?u.comment:"";p.addEventListener("input",e=>{localStorage.setItem(y,JSON.stringify({email:d.value.trim(),comment:m.value.trim()}))});const b=30;d.addEventListener("input",O);m.addEventListener("input",O);function O(e){this.value.length>b&&(this.value=this.value.substring(0,b)+"...")}
//# sourceMappingURL=commonHelpers.js.map
